<!DOCTYPE html>
<html lang="ja">
<head>
    <link rel="stylesheet" href="style.css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>川崎駅発 三興最寄り行バス時刻表</title>
    
</head>
<body>
    <div class="container">
        <header>
            <h1>川崎駅発 三興最寄り行バス時刻表</h1>
            <div class="direction-switcher">
                <span class="current-direction">三興最寄り方面</span>
            <a href="../sanko/index.html" class="switch-direction-btn">三興最寄り発に切替</a>
            </div>
            <div class="current-time">
                現在時刻: <span id="current-time">--:--</span>
                （<span id="day-type" class="day-type">平日</span>）
            </div>
        </header>
        
        <main>
            <!-- 次のバス情報 -->
            <section class="card">
                <h2 class="section-title">次のバス</h2>
                <div class="next-bus" id="next-bus-container">
                    <div class="next-bus-header">
                        <div>
                            <span class="route-badge" id="next-bus-route">---</span>
                            <span class="bus-stop-info" id="next-bus-stop">乗り場: --番</span>
                        </div>
                        <span class="destination" id="next-bus-destination">読み込み中...</span>
                    </div>
                    <div class="countdown" id="countdown">--:--:--</div>
                    <div class="departure-time">
                        発車時刻: <span id="next-bus-time">--:--</span>
                    </div>
                </div>
                
                <div class="bus-stop-highlight">
                    <div class="bus-stop-map-container">
                        <img src="bus_stop_map.jpg" alt="川崎駅西口バス乗り場案内図" class="bus-stop-map-img">
                        <!-- 以下のオーバーレイ要素は動的に位置調整されます -->
                        <div id="bus-stop-highlight-overlay" class="highlight-overlay"></div>
                    </div>
                    <p class="bus-stop-info-text">次のバス: <span id="bus-stop-highlight-info">--番乗り場</span></p>
                </div>
                
            </section>
            

            <!-- 前後のバス情報 -->
            <section class="card">
                <h2 class="section-title">周辺のバス</h2>
                <div class="surrounding-buses">
                    <div class="prev-next-bus-container">
                        <div class="prev-next-bus" id="previous-bus">
                            <div class="prev-next-title">一本前のバス</div>
                            <div class="prev-next-content">
                                <span class="route-badge" id="prev-bus-route">---</span>
                                <div class="prev-next-info">
                                    <div><span id="prev-bus-destination">読み込み中...</span></div>
                                    <div class="prev-next-details">
                                        <span class="bus-stop-info" id="prev-bus-stop">乗り場: --番</span>
                                        <span class="time-info" id="prev-bus-time">--:--</span>
                                        <span class="minutes-passed" id="prev-bus-passed">* -- 分前 発車</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="prev-next-bus" id="next-next-bus">
                            <div class="prev-next-title">次の次のバス</div>
                            <div class="prev-next-content">
                                <span class="route-badge" id="next-next-bus-route">---</span>
                                <div class="prev-next-info">
                                    <div><span id="next-next-bus-destination">読み込み中...</span></div>
                                    <div class="prev-next-details">
                                        <span class="bus-stop-info" id="next-next-bus-stop">乗り場: --番</span>
                                        <span class="time-info" id="next-next-bus-time">--:--</span>
                                        <span class="minutes-left" id="next-next-bus-left">* あと -- 分</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 今後のバスリスト -->
            <section class="card">
                <h2 class="section-title accordion" id="upcoming-buses-toggle">今後のバス</h2>
                <div class="panel" id="upcoming-buses-panel">
                    <div class="bus-list" id="bus-list">
                        <!-- JavaScriptで動的に生成 -->
                    </div>
                </div>
            </section>
            
            <!-- 路線情報 -->
            <!--- 一旦不要
                <section class="card">
                    <h2 class="section-title accordion" id="route-info-toggle">路線情報</h2>
                    <div class="panel" id="route-info-panel">
                        <div class="bus-routes" id="bus-routes">
                            <div class="bus-item">
                                <span class="route-badge 川51">川51</span>
                                <div class="bus-route-info">新網島駅</div>
                                <div class="bus-stop-info">乗り場: 60番</div>
                            </div>
                            <div class="bus-item">
                                <span class="route-badge 川55">川55</span>
                                <div class="bus-route-info">小倉下町経由横須賀線小杉駅</div>
                                <div class="bus-stop-info">乗り場: 58番</div>
                            </div>
                            <div class="bus-item">
                                <span class="route-badge 川57">川57</span>
                                <div class="bus-route-info">末吉橋矢向循環線</div>
                                <div class="bus-stop-info">乗り場: 59番</div>
                            </div>
                        </div>
                    </div>
                </section>
            -->


            
            <!-- 更新ボタン -->
            <!-- 一旦不要
                    <div class="refresh-section">
                        <button class="refresh-button" id="refresh-button">
                            <svg class="refresh-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M23 4v6h-6"></path>
                                <path d="M1 20v-6h6"></path>
                                <path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10"></path>
                                <path d="M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path>
                            </svg>
                            更新する
                        </button>
                    </div>
             -->
            <!-- CSVアップロードエリア（開発用） -->
            <div class="upload-area" id="upload-area">
                <p>CSVファイルをアップロード（開発用）</p>
                <input type="file" id="file-input" accept=".csv" multiple>
                <label for="file-input" class="upload-button">ファイルを選択</label>
            </div>
        </main>
        
        <footer>
            <p>川崎駅発バス時刻表アプリ &copy; 2025</p>
            <p>※交通状況により遅延する場合があります</p>
        </footer>
    </div>

    <script src="app.js"></script>
</body>
</html>